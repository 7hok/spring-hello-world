if(!maTooltip)var maTooltip=function(){function A(a,d){this.$=B.call(this,a,"Element sent to Constructor");var b,c=function(b,a){g=parseInt(b);if(isNaN(g))throw new TypeError(p+'Could not parse your "'+a+'" argument!');return g};b=d||{};this.SETTINGS={};var g=void 0;this.SETTINGS.opacity="opacity"in b&&0<=b.opacity&&1>=b.opacity?b.opacity:h.opacity;if("position"in b&&"string"===typeof b.position){var k=b.position.toUpperCase();if(j.POSITION[k])this.SETTINGS.position=k;else throw new TypeError(p+"Could not parse your .position setting!");
}else this.SETTINGS.position=h.position;for(var k=["fade_in_duration","fade_out_duration","move_in_duration","move_out_duration"],y=0;y<k.length;++y){var m=k[y];this.SETTINGS[m]=m in b?c(b[m],m):h[m];0>this.SETTINGS[m]&&(this.SETTINGS[m]=0)}this.SETTINGS.full_visibility_duration="full_visibility_duration"in b?c(b.full_visibility_duration,"full_visibility_duration"):h.full_visibility_duration;if(-3>this.SETTINGS.full_visibility_duration)throw new TypeError(p+'Full visibility duration "'+this.SETTINGS.full_visibility_duration+
'" is not supported. Must be a value from -3 to infinity.');if("move_in_from"in b)if(null===b.move_in_from||void 0===b.move_in_from)this.SETTINGS.move_in_from=h.move_in_from;else if("object"===typeof b.move_in_from)if("top"in b.move_in_from&&"left"in b.move_in_from){k={};try{k.top=c(b.move_in_from.top,"move_in_from.top"),k.left=c(b.move_in_from.left,"move_in_from.left"),this.SETTINGS.move_in_from=k}catch(n){this.SETTINGS.move_in_from=h.move_in_from}}else this.SETTINGS.move_in_from=h.move_in_from;
else this.SETTINGS.move_in_from="number"===typeof b.move_in_from?b.move_in_from:h.move_in_from;else this.SETTINGS.move_in_from=h.move_in_from;this.SETTINGS.move_in_to="move_in_to"in b&&b.move_in_to.top&&b.move_in_to.left?b.move_in_to:null;this.SETTINGS.static_message="static_message"in b?b.static_message:h.static_message;this.SETTINGS.one_time_only=b.one_time_only||h.one_time_only;this.SETTINGS.insert_before="insert_before"in b?B.call(this,b.insert_before,"'insert_before' in settings object"):null!==
h.insert_before?h.insert_before:this.$;this.SETTINGS.inline_style="inline_style"in b?b.inline_style:null;if("calculated_time_offset"in b&&"string"===typeof b.calculated_time_offset&&3<=b.calculated_time_offset.length){c=b.calculated_time_offset.substr(0,2);k=b.calculated_time_offset.substr(2);switch(c){case "-=":break;case "+=":break;case "*=":break;case "/=":break;default:throw new TypeError(p+'"'+c+'" is not supported in the "calculated_time_offset" setting.');}if(isNaN(k))throw new TypeError(p+
'"'+k+'" is not a number in the supplied "calculated_time_offset" setting.');this.SETTINGS.calculated_time_offset=b.calculated_time_offset}else this.SETTINGS.calculated_time_offset=h.calculated_time_offset;this.DOM={};this.DOM.$divParent=q("<div class='maTooltip'></div>");this.DOM.$divArrow=q("<div class='maTooltip-arrow'></div>");this.DOM.$divContents=q("<div class='maTooltip-contents'></div>");null!==this.SETTINGS.inline_style&&this.DOM.$divContents.attr("style",this.SETTINGS.inline_style);this.DOM.$divParent.addClass("maTooltip-"+
this.SETTINGS.position).append(this.DOM.$divArrow).append(this.DOM.$divContents);this.DOM.$divParent.css("opacity",0);this._animCompleteCallbacks={fadein:[],fadeout:[],movein:[],moveout:[]};this.IsInMoveOutAnimation=this.IsInFadeOutAnimation=this.IsInMoveInAnimation=this.IsInFadeInAnimation=!1;this.LastMessageText="";this.LastMessageDuration=null;var f=this;this._windowResizeHandler=function(){f.positionMightBeDirty()};b=q(window);b.on("resize.maTooltip",f._windowResizeHandler);b.one("load.maTooltip",
function(){f.DOM&&f.positionMightBeDirty()});if(-3===this.SETTINGS.full_visibility_duration)this.$.on({"mouseenter.maTooltip":function(){C.call(f,"fadein");C.call(f,"movein");f.show()},"mouseleave.maTooltip":function(){f.IsInFadeInAnimation||f.IsInMoveInAnimation?f.SETTINGS.move_in_duration>=f.SETTINGS.fade_in_duration?z.call(f,"movein",function(){f.hide()}):z.call(f,"fadein",function(){f.hide()}):f.hide()}});++D;b=this.$.attr("id")||this.$.attr("name");void 0===b&&(b="_ANONYMOUS");b in j.INSTANCES&&
(b+="_"+D);this.SETTINGS.one_time_only||(j.INSTANCES[b]=this);this.name=b;this.__timeoutID_hide=void 0}function B(a,d){var b=q(a),c=void 0;0===b.length?c=new TypeError(p+"No elements in the jQuery handle!"):1<b.length&&(c=new TypeError(p+"Recieved "+b.length+'" elements in the jQuery handle. Your intention?'));if(void 0!==c&&void 0!==d)throw c.message+='(Identifier: "'+d+'")',c;return b}function H(a){if(null===a||void 0===a)return!1;var d=!1;"object"===typeof a?d=a.toString():"function"===typeof a?
d=a.call(this):"string"===typeof a&&(d=a);return"string"!==typeof d?!1:d}function E(a,d){var b=d.x-a.x,c=d.y-a.y;return Math.sqrt(b*b+c*c)}function z(a,d,b){a=this._animCompleteCallbacks[a.toLowerCase()];for(var c in a)if(d===a[c])return c;c=d;!0===b&&(b=function(){d()},b._defer="maTooltip Secret Proxy String",c=b);return a.push(c)-1}function C(a,d){var b=this._animCompleteCallbacks[a.toLowerCase()];if("function"===typeof d)for(var c in b)e===d?delete b[c]:"number"===typeof d?delete b[d]:this._animCompleteCallbacks[a.toLowerCase()]=
[];return this}function l(a,d){var b=[];q.each(this._animCompleteCallbacks[a.toLowerCase()],function(a,d){"maTooltip Secret Proxy String"===d._defer?b.push(d):d()});!1!==d&&(this._animCompleteCallbacks[a.toLowerCase()]=[]);0<b.length&&setTimeout(function(){for(var a in b)b[a]()},0);return this}function F(a,d,b,c){c=E(b,c);d=E(b,d)/c;1<d?d=1:0>d&&(d=0);return a*(1-d)}function x(a){a=a||!1;if(this.isFullyVisible()&&!a)return 0;var d=this.DOM.$divParent,b=this.SETTINGS.move_in_duration,c=void 0;this.IsInMoveInAnimation||
this.IsInMoveOutAnimation?u.call(this,"move",!1):(c=this.getDimensionsAndPositions(),0<b&&(d.css("top",c.top_start),d.css("left",c.left_start),c.top_current=c.top_start,c.left_current=c.left_start));void 0===c&&(c=this.getDimensionsAndPositions());var g=0;if(0===b||!0===a)d.css("top",c.top_final),d.css("left",c.left_final),l.call(this,"movein");else if(a=F.call(this,b,{x:c.left_current,y:c.top_current},{x:c.left_start,y:c.top_start},{x:c.left_final,y:c.top_final}),0<a){this.IsInMoveInAnimation=!0;
var g=a,k=this;this.DOM.$divParent.animate({top:c.top_final,left:c.left_final},{queue:"move",duration:a,easing:h.easing_in,complete:function(){k.IsInMoveInAnimation=!1;l.call(k,"movein")}}).dequeue("move")}else d.css("top",c.top_final),d.css("left",c.left_final),l.call(this,"movein");return g}function G(){if(this.isFullyHidden())return 0;(this.IsInMoveInAnimation||this.IsInMoveOutAnimation)&&u.call(this,"move",!1);var a=this.getDimensionsAndPositions(),d=this.DOM.$divParent;if(null===a.left_current||
null===a.top_current)d.css("top",a.top_final),d.css("left",a.left_final),a.left_current=a.left_final,a.top_current=a.top_final;var b=this.SETTINGS.move_out_duration,c=0;if(0<b)if(b=F.call(this,b,{x:a.left_current,y:a.top_current},{x:a.left_final,y:a.top_final},{x:a.left_start,y:a.top_start}),0<b){this.IsInMoveOutAnimation=!0;var g=this;d.animate({top:a.top_start,left:a.left_start},{queue:"move",duration:b,easing:h.easing_out,complete:function(){g.IsInMoveOutAnimation=!1;l.call(g,"moveout")}}).dequeue("move");
c=b}else d.css("top",a.top_start),d.css("left",a.left_start),l.call(this,"moveout");else l.call(this,"moveout");return c}function u(a,d){this.DOM.$divParent.stop(a,!0,d);switch(a){case "fade":this.IsInFadeOutAnimation=this.IsInFadeInAnimation=!1;break;case "move":this.IsInMoveOutAnimation=this.IsInMoveInAnimation=!1;break;default:throw Error(p+"Internal error. Asked to PAUSE an animation queue that doesn't exist.");}}function v(){this.isAnyAnimationAlive()&&(u.call(this,"fade",!0),u.call(this,"move",
!0));this.DOM.$divParent.css("opacity",0);this.SETTINGS.one_time_only?this.DOM.$divParent.remove():this.DOM.$divParent.detach()}var j=A,q=jQuery?jQuery:function(){throw Error("maTooltip REQUIRES jQuery. Goto www.jquery.com and read more.");};j.POSITION={LEFT:"LEFT",TOP:"TOP",RIGHT:"RIGHT",BOTTOM:"BOTTOM"};j.SPEED={FAST:200,SLOW:600};j.VISIBILITY={HOVER:-3,AUTO:-2,FOREVER:-1};j.INSTANCES={};j.quickTooltip=function(a,d,b){d={static_message:d};"object"===typeof b&&null!==b&&q.extend(d,b);d.one_time_only=
!0;a=new j(a,d);a.show();return a};var h={position:j.POSITION.TOP,fade_in_duration:j.SPEED.FAST,move_in_duration:100,move_in_from:10,full_visibility_duration:-2,fade_out_duration:j.SPEED.SLOW,move_out_duration:0,easing_in:"swing",easing_out:"linear",static_message:null,one_time_only:!1,insert_before:"body > *:first-child",calculated_time_offset:null,opacity:0.8,flash_on_text_change:!0};j.getDefaults=function(){return h};for(var t=/matooltip.css/i,r=0;r<document.styleSheets.length;++r){var s=void 0;
if("maTooltip"===document.styleSheets[r].title)s=document.styleSheets[r];else{var w=document.styleSheets[r].href||"";13<=w.length&&(w=w.substr(w.length-13),t.test(w)&&(s=document.styleSheets[r]))}if(void 0!==s){t=s.cssRules?s.cssRules:s.rules;for(r=0;r<t.length;++r)if(s=t[r],s.selectorText&&".maTooltip"===s.selectorText){t=s.style.opacity;!isNaN(t)&&(0<t&&1>=t)&&(h.opacity=t);break}break}}var D=0,p="maTooltip: ";j.prototype.dispose=function(){this.SETTINGS.one_time_only=!0;v.call(this);delete this.DOM;
delete A.INSTANCES[this.name];delete this.IsInFadeInAnimation;delete this.IsInFadeOutAnimation;delete this.IsInMoveInAnimation;delete this.IsInMoveOutAnimation;delete this.LastMessageDuration;delete this.LastMessageText;delete this.SETTINGS;delete this.name;delete this._animCompleteCallbacks;clearTimeout(this.__timeoutID_hide);delete this.__timeoutID_hide;q(window).off(".maTooltip",this._windowResizeHandler);this.$.off(".maTootip");delete this.$;delete this._windowResizeHandler};j.prototype.show=
function(a){function d(b){clearInterval(this.__timeoutID_hide);var a=this;this.__timeoutID_hide=setTimeout(function(){a.hide()},b);return this}a=a||this.SETTINGS.static_message;a=H(a);!1===a&&(a=this.DOM.$divContents.html());var b=a!==this.LastMessageText?!0:!1;b&&this.DOM.$divContents.html(a);this.LastMessageText=a;if(!b&&(this.IsInFadeInAnimation||this.IsInMoveInAnimation))return this;var c=void 0;if(-2===this.SETTINGS.full_visibility_duration)if(b){var c=this.SETTINGS.fade_in_duration,g=this.DOM.$divContents.text(),
c=500-0.25*c,g=q.trim(g),g=g.replace(/\s+/g," "),g=g.split(" ").length,c=c+parseInt(333.33*g),c=1*c;if(null!==this.SETTINGS.calculated_time_offset){var g=this.SETTINGS.calculated_time_offset.substr(0,2),k=this.SETTINGS.calculated_time_offset.substr(2),k=parseFloat(k);switch(g){case "-=":c-=k;break;case "+=":c+=k;break;case "*=":c*=k;break;case "/=":c=0===k?0:c/k}}0>c&&(c=0);this.LastMessageDuration=c}else c=this.LastMessageDuration;else c=-3===this.SETTINGS.full_visibility_duration?-1:this.SETTINGS.full_visibility_duration;
if((g=this.isFullyVisible())&&-1<c){if(b&&h.flash_on_text_change)return this.hide(!0).show(a);d.call(this,c+2)}else if(g)return clearInterval(this.__timeoutID_hide),this;b&&(this.isAnyAnimationAlive()&&h.flash_on_text_change)&&this.hide(!0);this.isFullyHidden()&&this.DOM.$divParent.insertBefore(q(this.SETTINGS.insert_before));a=x.call(this);if(this.isFullyVisible())b=0;else{u.call(this,"fade",!1);b=this.SETTINGS.opacity;g=this.DOM.$divParent.css("opacity");g=(b-g)/b;1<g?g=1:0>g&&(g=0);g*=this.SETTINGS.fade_in_duration;
if(0<g){var j=this;this.IsInFadeInAnimation=!0;this.DOM.$divParent.animate({opacity:b},{queue:"fade",duration:g,easing:h.easing_in,complete:function(){j.DOM.$divParent.css("opacity");j.IsInFadeInAnimation=!1;l.call(j,"fadein")}}).dequeue("fade")}else this.DOM.$divParent.css("opacity",b),l.call(this,"fadein");b=g}a=Math.max(b,a);-1<c&&d.call(this,a+c+2);return this};j.prototype.hide=function(a){clearTimeout(this.__timeoutID_hide);if((this.IsInFadeOutAnimation||this.IsInMoveOutAnimation)&&void 0===
a)return this;if(!0===a)return v.call(this),this;if(this.SETTINGS.one_time_only){var d=this;z.call(this,"fadeout",function(){d.dispose()},!0)}u.call(this,"fade",!1);var b=this.DOM.$divParent.css("opacity");if(0===b)v.call(this),l.call(this);else{a=this.SETTINGS.fade_out_duration;b/=this.SETTINGS.opacity;1<b?b=1:0>b&&(b=0);a*=b;var c=this;0<a?(this.IsInFadeOutAnimation=!0,this.DOM.$divParent.animate({opacity:0},{queue:"fade",duration:a,easing:h.easing_out,complete:function(){c.IsInFadeOutAnimation=
!1;v.call(c);l.call(c,"fadeout")}}).dequeue("fade")):(v.call(this),l.call(this,"fadeout"))}G.call(this);return this};j.prototype.toggle=function(){this.isFullyVisible()||this.IsInFadeInAnimation||this.IsInMoveInAnimation?this.hide():this.show()};j.prototype.isAnyAnimationAlive=function(){return this.IsInFadeInAnimation||this.IsInFadeOutAnimation||this.IsInMoveInAnimation||this.IsInMoveOutAnimation||!1};j.prototype.getDimensionsAndPositions=function(a){function d(b,a){var c=void 0,d=void 0;switch(b){case "LEFT":c=
a.targetElemOffset.top-0.5*a.tooltiperHeight+0.5*a.targetElemHeight;d=a.targetElemOffset.left-a.tooltiperWidth;break;case "TOP":c=a.targetElemOffset.top-a.tooltiperHeight;d=a.targetElemOffset.left+0.5*a.targetElemWidth-0.5*a.tooltiperWidth;break;case "RIGHT":c=a.targetElemOffset.top-0.5*a.tooltiperHeight+0.5*a.targetElemHeight;d=a.targetElemOffset.left+a.targetElemWidth;break;case "BOTTOM":c=a.targetElemOffset.top+a.targetElemHeight;d=a.targetElemOffset.left+0.5*a.targetElemWidth-0.5*a.tooltiperWidth;
break;default:throw Error(p+'Tooltiper "'+this.name+'" wanted to run an unknown positioning algorithm!');}return{top:c,left:d}}a="object"===typeof a?a:{};var b={};b.targetElemOffset="targetElemOffset"in a?a.targetElemOffset:this.$.offset();b.targetElemWidth="targetElemWidth"in a?a.targetElemWidth:this.$.outerWidth();b.targetElemHeight="targetElemHeight"in a?a.targetElemHeight:this.$.outerHeight();b.tooltiperWidth="tooltiperWidth"in a?a.tooltiperWidth:this.DOM.$divParent.outerWidth();b.tooltiperHeight=
"tooltiperHeight"in a?a.tooltiperHeight:this.DOM.$divParent.outerHeight();var c=a=null,g=parseInt(this.DOM.$divParent.css("top")),j=parseInt(this.DOM.$divParent.css("left"));isNaN(g)&&(g=null);isNaN(j)&&(j=null);var h=null,m=null,n=void 0,n=null!==this.SETTINGS.move_in_to?{top:this.SETTINGS.move_in_to.top,left:this.SETTINGS.move_in_to.left}:d.call(this,this.SETTINGS.position,b);a=n.top;var c=n.left,f=this.SETTINGS.move_in_from;if(0===this.SETTINGS.move_in_duration)h=n.top,m=n.left;else if("object"===
typeof f)h=f.top,m=f.left;else if(-1<f&&1>f){n=void 0;switch(this.SETTINGS.position){case "LEFT":n="RIGHT";break;case "TOP":n="BOTTOM";break;case "RIGHT":n="LEFT";break;case "BOTTOM":n="TOP"}var l=d.call(this,n,b);if(0===f)h=l.top,m=l.left;else switch(n=Math.abs(c-l.left),l=Math.abs(a-l.top),this.SETTINGS.position){case "LEFT":h=a;m=0<f?c+(1-f)*n:c-(1- -1*f)*n;break;case "TOP":m=c;h=0<f?a+(1-f)*l:a-(1- -1*f)*l;break;case "RIGHT":h=a;m=0<f?c-(1-f)*n:c+(1- -1*f)*n;break;case "BOTTOM":m=c,h=0<f?a-(1-
f)*l:a+(1- -1*f)*l}}else if(-1>=f||1<=f)switch(this.SETTINGS.position){case "LEFT":m=c+f;h=a;break;case "TOP":h=a+f;m=c;break;case "RIGHT":m=-1*f+c;h=a;break;case "BOTTOM":h=-1*f+a,m=c}else throw Error(p+'Apparently the settings parser has done a bad job."'+this.name+'" failed to calculate starting position.');return{targetElemOffset:b.targetElemOffset,targetElemWidth:b.targetElemWidth,targetElemHeight:b.targetElemHeight,tooltiperWidth:b.tooltiperWidth,tooltiperHeight:b.tooltiperHeight,top_final:a,
top_current:g,top_start:h,left_final:c,left_current:j,left_start:m}};j.prototype.isFullyVisible=function(){return!0===this.isAnyAnimationAlive()?!1:this.DOM.$divParent.css("opacity")>=0.9*this.SETTINGS.opacity};j.prototype.isFullyHidden=function(){return!0===this.isAnyAnimationAlive()?!1:0==this.DOM.$divParent.css("opacity")};j.prototype.positionMightBeDirty=function(){this.isFullyVisible()?x.call(this,!0):this.IsInMoveInAnimation?x.call(this):this.IsInMoveOutAnimation?G.call(this):(this.IsInFadeInAnimation||
this.IsInFadeOutAnimation)&&x.call(this,!0);return this};return j}();